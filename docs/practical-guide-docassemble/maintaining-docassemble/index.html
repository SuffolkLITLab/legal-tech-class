<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-practical-guide-docassemble/updates-and-maintenance">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Securing and maintaining your server | Legal Tech Class</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://suffolklitlab.github.io/legal-tech-class/docs/practical-guide-docassemble/maintaining-docassemble"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Securing and maintaining your server | Legal Tech Class"><meta data-rh="true" name="description" content="Securing Docassemble"><meta data-rh="true" property="og:description" content="Securing Docassemble"><link data-rh="true" rel="icon" href="/legal-tech-class/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://suffolklitlab.github.io/legal-tech-class/docs/practical-guide-docassemble/maintaining-docassemble"><link data-rh="true" rel="alternate" href="https://suffolklitlab.github.io/legal-tech-class/docs/practical-guide-docassemble/maintaining-docassemble" hreflang="en"><link data-rh="true" rel="alternate" href="https://suffolklitlab.github.io/legal-tech-class/docs/practical-guide-docassemble/maintaining-docassemble" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/legal-tech-class/blog/rss.xml" title="Legal Tech Class RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/legal-tech-class/blog/atom.xml" title="Legal Tech Class Atom Feed"><link rel="stylesheet" href="/legal-tech-class/assets/css/styles.e717edca.css">
<link rel="preload" href="/legal-tech-class/assets/js/runtime~main.caa5a19e.js" as="script">
<link rel="preload" href="/legal-tech-class/assets/js/main.a6e2853a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/legal-tech-class/"><div class="navbar__logo"><img src="/legal-tech-class/img/blue_logo.png" alt="LIT Lab" class="themedImage_ToTc themedImage--light_HNdA"><img src="/legal-tech-class/img/blue_logo.png" alt="LIT Lab" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Legal Tech Class</b></a><a class="navbar__item navbar__link" href="/legal-tech-class/docs/about-legal-tech-class">Textbook</a><a class="navbar__item navbar__link" href="/legal-tech-class/docs/classes/class-overview">Classes</a></div><div class="navbar__items navbar__items--right"><a href="https://suffolklitlab.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Suffolk Law School LIT Lab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/SuffolkLITLab/legal-tech-class" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legal-tech-class/docs/about-legal-tech-class">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legal-tech-class/docs/legal-tech-overview/legal-tech-overview">Legal Technology Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legal-tech-class/docs/a2j/a2j">The Access to Justice Problem</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legal-tech-class/docs/avoiding-failure/avoiding-failure">Building Things</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legal-tech-class/docs/testing/testing">Testing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/legal-tech-class/docs/introduction-to-docassemble">A Practical Guide to Docassemble Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/introduction-to-docassemble">Introduction to Docassemble</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/practical-guide-docassemble">What should you use Docassemble for?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/classes/docacon-2020/hello-world">Hello, World</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/classes/docacon-2020/logic">Logic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/classes/docacon-2020/working-with-docx">Working with Docx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/controlling-interview-order">Controlling Interview Order</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/basic-troubleshooting">Basic Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/legal-tech-class/docs/yaml">Docassemble syntax</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/object-oriented-programming">Working with lists and objects</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/theming-docassemble">Customizing Docassemble</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/setup-server">Administering Docassemble</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/setup-server">Installing a docassemble server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/run-docassemble-docker-vscode">Docassemble with Docker and VS Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/installing-production-app">Installing a docassemble app on your production server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/maintaining-docassemble">Securing and maintaining your server</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legal-tech-class/docs/classes/class-overview">Classes and tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/legal-tech-class/docs/appendices/editing-docusaurus">Appendices</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/legal-tech-class/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">A Practical Guide to Docassemble Development</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Administering Docassemble</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Securing and maintaining your server</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Securing and maintaining your server</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="securing-docassemble">Securing Docassemble<a class="hash-link" href="#securing-docassemble" title="Direct link to heading">​</a></h2><p>Docassemble has not had any major security incidents in its history. But the
higher profile your deployment, the more likely you are to have an individual
attack. Such attacks are hard to entirely prevent. The best way to keep
Docassemble secure is by upgrading on a regular basis.</p><p>In addition:</p><ul><li>Consider using <a href="https://docassemble.org/docs/config.html#mfa" target="_blank" rel="noopener noreferrer">2-factor
authentication</a> on your
production server</li><li><a href="https://docassemble.org/docs/config.html#enable%20playground" target="_blank" rel="noopener noreferrer">Turn off the
Playground</a> on
your production server</li><li>Limit the number of developers and administrators on your production server</li><li>Use <a href="https://securecode.wiki/docs/lang/python/" target="_blank" rel="noopener noreferrer">input sanitization</a> when
calling a remote API or making a database query that uses user input to
generate a query or insert a new row</li><li>When you have a file upload input, limit the size and type of uploads to
prevent unknown exploits with the
<a href="https://docassemble.org/docs/fields.html#file" target="_blank" rel="noopener noreferrer"><code>accept</code></a> modifier and the
<a href="https://docassemble.org/docs/config.html#maximum%20content%20length" target="_blank" rel="noopener noreferrer"><code>maximum content
length</code></a>
configuration option.</li></ul><p>You can review <a href="https://docassemble.org/docs/security.html" target="_blank" rel="noopener noreferrer">Docassemble&#x27;s security policy and
documentation</a>.</p><p>Instructions on applying regular updates are below.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="securing-the-underlying-operating-system">Securing the underlying operating system<a class="hash-link" href="#securing-the-underlying-operating-system" title="Direct link to heading">​</a></h2><p>By default, a new Lightsail container with Ubuntu will check for security
updates on a nightly basis and install them automatically. Occasionally,
these updates may cause a problem with your container starting.</p><p>SSHing into the container and doing a manual docker start generally resolves
these problems.</p><p>The alternative, manual installation of OS updates, is usually worse for most
people who run a single small Docassemble server. Just set up automated alerts
that tell you when the website is not available.</p><p><a href="https://uptimerobot.com/" target="_blank" rel="noopener noreferrer">UpTimeRobot</a> is one free option that works well for
automated monitoring and alerts.</p><p>If you do not have automatic updates enabled, you can install the
<a href="https://wiki.debian.org/UnattendedUpgrades" target="_blank" rel="noopener noreferrer">unattended-upgrades</a> package manually
using your host operating system&#x27;s package manager.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-to-a-new-version-of-docassemble">Upgrading to a new version of Docassemble<a class="hash-link" href="#upgrading-to-a-new-version-of-docassemble" title="Direct link to heading">​</a></h2><p>Docassemble has two parts: </p><ol><li>a <a href="/legal-tech-class/docs/python">Python</a> web application, built around the <a href="https://flask.palletsprojects.com/en/2.2.x/" target="_blank" rel="noopener noreferrer">Flask
framework</a></li><li>An Ubuntu docker image and a series of Linux applications that the web
frontend communicates with, including<ul><li>A specific version of <a href="/legal-tech-class/docs/python">Python</a> (3.10 as of this writing)</li><li><a href="https://www.libreoffice.org/discover/writer" target="_blank" rel="noopener noreferrer">LibreOffice</a> for converting
Word documents to PDF</li><li><a href="https://www.latex-project.org/" target="_blank" rel="noopener noreferrer">LaTeX</a> for assembling
<a href="/legal-tech-class/docs/markdown">Markdown</a> files</li><li><a href="https://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/" target="_blank" rel="noopener noreferrer">PDFtk</a> for
manipulating PDF files and templates</li><li><a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">LetsEncrypt</a> for SSL certificate management</li><li><a href="https://www.nginx.com/" target="_blank" rel="noopener noreferrer">Nginx</a> as a web server</li></ul></li></ol><p>Docassemble is updated regularly. As of this writing, releases come out almost
every few weeks. Most updates affect only the frontend, not the Ubuntu operating
system or its installed applications.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-update">When to update<a class="hash-link" href="#when-to-update" title="Direct link to heading">​</a></h3><p>It&#x27;s a good idea to stay up to date with the latest version of Docassemble. But
sometimes the very latest release can have bugs. It&#x27;s best to test out the
release on a development or staging server before you install it on your
production server.</p><p>If you get too far behind from the latest version, there&#x27;s always a chance that
you will run into a bug that only occurs because your version was too far out of
date. A good cadence is upgrading about once a month.</p><p>Jonathan Pyle, the Docassemble author, is generally very responsive to bug
fixes, as well as helping authors install a fixed version. The best way to get
help with an upgrade gone wrong is to use the Docassemble
<a href="https://docassemble.org/docs/support.html#tocAnchor-1-1" target="_blank" rel="noopener noreferrer">Slack</a> channel.</p><p>Upgrade the Docassemble frontend every few weeks. Upgrade the container every
six months or so, unless you need a feature right away. But wait a week or two
after the new container is released to make sure there are no lingering bugs. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updates-to-the-docassemble-frontend">Updates to the Docassemble frontend<a class="hash-link" href="#updates-to-the-docassemble-frontend" title="Direct link to heading">​</a></h3><p>You can update the Python packages and Flask frontend by using the
<a href="https://docassemble.org/docs/admin.html#upgrade" target="_blank" rel="noopener noreferrer">&quot;Upgrade&quot;</a> button in the
package management menu.</p><p>This is safe to do on a monthly basis, but keep in mind that you should test
the upgraded version of Docassemble on a development or staging server before
installing on your production server.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updates-to-the-docassemble-container">Updates to the Docassemble container<a class="hash-link" href="#updates-to-the-docassemble-container" title="Direct link to heading">​</a></h3><p>Updates to the base Docassemble OS image (and Python, LibreOffice, etc) are
generally optional. They come with new features that aren&#x27;t possible to
provide by updating just the frontend. But if you do not want or need
those new features, you can wait to upgrade.</p><p>A good cadence for updating the container is about every 6 months, unless
you see a feature that you want that requires an earlier update. You may
want to wait for a few minor releases (which might fix critical bugs)
before you upgrade your container. The newest container upgrade is the most
likely to have a few bugs to work out.</p><p>The Docassemble <a href="https://docassemble.org/docs/changelog.html" target="_blank" rel="noopener noreferrer">Changelog</a>
announces when there is a new feature that requires a container upgrade.
Just searching on the page for the word &quot;container&quot; should tell you.</p><p>Whenever you upgrade the Docassemble container, you have a small chance of
losing data, because the upgrade process involves starting an entirely new
Docker container and copying the information into it, either from a shared
Docker volume or from S3. If the Docker container did not properly shut down,
the data that you want to migrate might not be backed up and the new container
may not have the information.</p><p>Here is the upgrade process:</p><ol><li><p>SSH into the virtual machine or server that hosts your Docassemble docker container</p></li><li><p>In the virtual machine&#x27;s command line, copy and run the following commands:</p></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> stop -t </span><span class="token number" style="color:rgb(247, 140, 108)">600</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">docker</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">ps</span><span class="token variable" style="color:rgb(191, 199, 213)"> -a -q</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> pull jhpyle/docassemble-os</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> pull jhpyle/docassemble</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run -d -p </span><span class="token number" style="color:rgb(247, 140, 108)">443</span><span class="token plain">:443 -p </span><span class="token number" style="color:rgb(247, 140, 108)">80</span><span class="token plain">:80 --restart always --env-file env.list jhpyle/docassemble</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>After the container has safely started up, login to the web application to make
sure all data is still present. </li><li>Now, you can clean up all <strong>stopped</strong> containers
(i.e., the old container you are no longer using) by running the following
Docker command:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> system prune</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="updating-individual-packages">Updating individual packages<a class="hash-link" href="#updating-individual-packages" title="Direct link to heading">​</a></h2><p>You can upgrade individual Python packages and Docassemble interviews on your
server by <a href="https://docassemble.org/docs/packages.html#updating" target="_blank" rel="noopener noreferrer">visiting the Package Management
page</a>. and clicking the
&quot;update&quot; button next to the package you want to update.</p><p>Generally, the &quot;upgrade&quot; button at the top of the Package Management page
will upgrade all of the key packages that you need, except for the ones that
represent individual interviews you authored.</p><p>The exception is if you installed a package or series of packages that is
maintained by someone other than the Docassemble author, such as the
Assembly Line packages.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-the-assemblyline-packages">Updating the AssemblyLine packages<a class="hash-link" href="#updating-the-assemblyline-packages" title="Direct link to heading">​</a></h3><p>The <a href="https://suffolklitlab.org/docassemble-AssemblyLine-documentation/" target="_blank" rel="noopener noreferrer">Assembly
Line</a> project&#x27;s
framework must be updated manually, whenever there is a new feature that you
want. </p><p>The two packages that generally require such updates are:</p><ul><li><code>docassemble.AssemblyLine</code></li><li><code>docassemble.ALToolbox</code></li></ul><p>It&#x27;s a good idea to stay on the &quot;latest&quot; version of the Assembly Line framework.
New features that can cause disruption are usually put behind a new configuration
option.</p><p>You can review the latest features of the Assembly Line on its
<a href="https://github.com/SuffolkLITLab/docassemble-AssemblyLine/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">Changelog</a>,
as well as the changelog for the
<a href="https://github.com/SuffolkLITLab/docassemble-ALToolbox/releases" target="_blank" rel="noopener noreferrer">ALToolbox</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pypi-vs-github">PyPi vs GitHub<a class="hash-link" href="#pypi-vs-github" title="Direct link to heading">​</a></h4><p>If you installed the AssemblyLine framework from GitHub, when you click the
&quot;upgrade&quot; button, you will get individual minor and major updates that have not
yet been &quot;tagged&quot; with a new version number. While any code on the GitHub server
will have undergone a code review process and tests, the &quot;tagged&quot; releases are
the ones that are intended for wider use and installation on production servers.</p><p>Therefore, we recommend that most authors install AssemblyLine from PyPi instead
of directly using the GitHub URL.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/suffolklitlab/legal-tech-class/edit/master/class/docs/practical-guide-docassemble/updates-and-maintenance.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/legal-tech-class/docs/practical-guide-docassemble/installing-production-app"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installing a docassemble app on your production server</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/legal-tech-class/docs/classes/class-overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview of Classes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#securing-docassemble" class="table-of-contents__link toc-highlight">Securing Docassemble</a></li><li><a href="#securing-the-underlying-operating-system" class="table-of-contents__link toc-highlight">Securing the underlying operating system</a></li><li><a href="#upgrading-to-a-new-version-of-docassemble" class="table-of-contents__link toc-highlight">Upgrading to a new version of Docassemble</a><ul><li><a href="#when-to-update" class="table-of-contents__link toc-highlight">When to update</a></li><li><a href="#updates-to-the-docassemble-frontend" class="table-of-contents__link toc-highlight">Updates to the Docassemble frontend</a></li><li><a href="#updates-to-the-docassemble-container" class="table-of-contents__link toc-highlight">Updates to the Docassemble container</a></li></ul></li><li><a href="#updating-individual-packages" class="table-of-contents__link toc-highlight">Updating individual packages</a><ul><li><a href="#updating-the-assemblyline-packages" class="table-of-contents__link toc-highlight">Updating the AssemblyLine packages</a><ul><li><a href="#pypi-vs-github" class="table-of-contents__link toc-highlight">PyPi vs GitHub</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/legal-tech-class/docs/introduction-to-docassemble">Overview of Docassemble</a></li><li class="footer__item"><a href="https://suffolklitlab.org/howto/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Suffolk LIT Lab How To<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docassemble.org/docs/support.html#tocAnchor-1-1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More information</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://nonprofittechy.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">About the Editor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://suffolklitlab.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">About the LIT Lab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/suffolklitlab/legal-tech-class" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/suffolklitlab" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Image Credits</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.flaticon.com/authors/freepik" target="_blank" rel="noopener noreferrer" class="footer__link-item">Icons made by Freepik<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.flaticon.com/free-icon/excavator_975574" target="_blank" rel="noopener noreferrer" class="footer__link-item">Icons made by Freepik<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Quinten Steenhuis and open source contributors. Built with Docusaurus. <a target="_blank" href="https://icons8.com/icons/set/law">Law icon</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a></div></div></div></footer></div>
<script src="/legal-tech-class/assets/js/runtime~main.caa5a19e.js"></script>
<script src="/legal-tech-class/assets/js/main.a6e2853a.js"></script>
</body>
</html>