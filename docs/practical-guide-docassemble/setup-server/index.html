<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/legal-tech-class/blog/rss.xml" title="Legal Tech Class RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/legal-tech-class/blog/atom.xml" title="Legal Tech Class Atom Feed">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script><title data-react-helmet="true">Installing a docassemble server | Legal Tech Class</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://suffolklitlab.github.io/legal-tech-class/docs/practical-guide-docassemble/setup-server"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Installing a docassemble server | Legal Tech Class"><meta data-react-helmet="true" name="description" content="There are a lot of [ways you can install"><meta data-react-helmet="true" property="og:description" content="There are a lot of [ways you can install"><link data-react-helmet="true" rel="icon" href="/legal-tech-class/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://suffolklitlab.github.io/legal-tech-class/docs/practical-guide-docassemble/setup-server"><link data-react-helmet="true" rel="alternate" href="https://suffolklitlab.github.io/legal-tech-class/docs/practical-guide-docassemble/setup-server" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://suffolklitlab.github.io/legal-tech-class/docs/practical-guide-docassemble/setup-server" hreflang="x-default"><link rel="stylesheet" href="/legal-tech-class/assets/css/styles.70988bed.css">
<link rel="preload" href="/legal-tech-class/assets/js/runtime~main.20ffbc4b.js" as="script">
<link rel="preload" href="/legal-tech-class/assets/js/main.e5304d49.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/legal-tech-class/"><div class="navbar__logo"><img src="/legal-tech-class/img/blue_logo.png" alt="LIT Lab" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/legal-tech-class/img/blue_logo.png" alt="LIT Lab" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Legal Tech Class</b></a><a class="navbar__item navbar__link" href="/legal-tech-class/docs/about-legal-tech-class">Textbook</a><a class="navbar__item navbar__link" href="/legal-tech-class/docs/classes/class-overview">Classes</a></div><div class="navbar__items navbar__items--right"><a href="https://suffolklitlab.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Suffolk Law School LIT Lab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/SuffolkLITLab/legal-tech-class" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/about-legal-tech-class">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/legal-tech-overview/legal-tech-overview">Legal Technology Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/a2j/a2j">The Access to Justice Problem</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/changing-legal-profession/changing-legal-profession">The Changing Legal Profession</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/ethical-issues/ethical-issues">Ethical Issues</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/avoiding-failure/avoiding-failure">Building Things</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/representing-rules/representing-rules">Representing Rules in Code</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/legal-tech-class/docs/introduction-to-docassemble">A Practical Guide to Docassemble Development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/introduction-to-docassemble">Introduction to Docassemble</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/practical-guide-docassemble">What should you use Docassemble for?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/controlling-interview-order">Controlling Interview Order</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/combining-interviews">Combining interviews</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/object-oriented-programming">Object Oriented Programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/repeated-information">Repeated Information (Groups)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" tabindex="0" href="/legal-tech-class/docs/yaml">References</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/yaml">Understanding YAML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/markdown">Understanding Markdown</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/mako">Overview of Mako</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/python">Understanding Python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/jinja2">Overview of Jinja2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/installing-production-app">Installing a docassemble app on your production server</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/legal-tech-class/docs/practical-guide-docassemble/setup-server">Installing a docassemble server</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/tutorials">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/classes/class-overview">Classes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/legal-tech-class/docs/appendices/editing-docusaurus">Appendices</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>What this guide is</h1></header><p>There are a lot of <a href="https://docassemble.org/docs/installation.html" target="_blank" rel="noopener noreferrer">ways you can install
Docassemble</a>. This is one quick
path that will help you get started quickly without having to make your own
choices.</p><ol><li>Provision a full virtual machine in <a href="https://aws.amazon.com/lightsail/" target="_blank" rel="noopener noreferrer">AWS
Lightsail</a>.</li><li>Wire up the file storage and backups to <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">AWS S3</a>.</li><li>Use an env.list file that contains all of the startup configuration that I
keep a local copy of.</li></ol><p>Why? This gets you:</p><ol><li>A cheap, easy to use, always on server. Provisioning the same server for
full-time usage on EC2 or Azure would be at least 2 times the price.</li><li>The safety of all configuration and databases, files and backups being stored
and served from S3.</li><li>The ability to easily destroy and restore a new copy of your server.</li></ol><p>What you miss out on:</p><ol><li>Automated load balancing and auto scaling that comes with EC-2.</li><li>Clustering and managed docker that you get with docker swarm or Lightsail containers.</li></ol><p>Things that I don&#x27;t do but should consider:</p><ol><li>Using docker compose instead of just an env.list</li></ol><header><h1>Setting up Docassemble, start to finish</h1></header><iframe width="560" height="315" src="https://www.youtube.com/embed/JXdOCLMFPHc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-your-aws-account">Create your AWS account<a class="hash-link" href="#create-your-aws-account" title="Direct link to heading">â€‹</a></h2><p><a href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/" target="_blank" rel="noopener noreferrer">Follow Amazon&#x27;s
instructions</a></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="choose-a-dns-name">Choose a DNS name<a class="hash-link" href="#choose-a-dns-name" title="Direct link to heading">â€‹</a></h2><p>If you want to be able to reach your server over the Internet, you must add a
DNS entry for it. You can use a <em>subdomain</em> of an existing domain name you
control.</p><p>I recommend using something short, like <code>apps.example.com</code> (where <code>example.com</code>
is a domain name you already own.) If you don&#x27;t own a domain name yet, it may be
simplest to purchase and manage it through <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/domain-register.html" target="_blank" rel="noopener noreferrer">AWS Route
53</a>.</p><p>I still recommend using a <em>subdomain</em> of the new domain you purchase, rather
than pointing docassemble directly to a top level domain.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-your-lightsail-server">Create your Lightsail server<a class="hash-link" href="#create-your-lightsail-server" title="Direct link to heading">â€‹</a></h2><p>Create a <a href="https://lightsail.aws.amazon.com/ls/docs/en_us/articles/how-to-create-amazon-lightsail-instance-virtual-private-server-vps" target="_blank" rel="noopener noreferrer">Lightsail
instance</a></p><p>Choose Ubuntu Server (the newest edition) as the operating system type.</p><p>Choose the 4 GB instance as the size, unless you have a very good reason to choose
otherwise. Docassemble can run with fewer than 4 GB of RAM if you set up a swap
file. You will probably not need more than 4 GB of RAM until you reach a very
high traffic level or have a lot of developers working on your server at the same
time.</p><p>Choose an AWS region that matches your needs. E.g., one that is geographically
close to your users or that is not subject to US jurisdiction if required by
data privacy laws in your country.</p><p>Label the new Lighsail instance with the DNS name you chose earlier. For
example: <code>apps.example.com</code>.</p><p>Optionally: take note of the IPv6 address that AWS automatically assigns to your
new Lightsail instance.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-a-static-ipv4-address">Create a static IPv4 address<a class="hash-link" href="#create-a-static-ipv4-address" title="Direct link to heading">â€‹</a></h2><p>Follow the <a href="https://lightsail.aws.amazon.com/ls/docs/en_us/articles/lightsail-create-static-ip" target="_blank" rel="noopener noreferrer">AWS
Lightsail</a>
instructions to create a static IP. Use the DNS name you chose earlier to label
the IP. Like: <code>apps.example.com-IP</code>.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="enable-https-traffic-on-your-lightsail-server">Enable HTTPS traffic on your Lightsail server<a class="hash-link" href="#enable-https-traffic-on-your-lightsail-server" title="Direct link to heading">â€‹</a></h2><ol><li>Click on your Lightsail instance, and then the Networking tab. (Note: make sure
you click on the instance name first).</li><li>Scroll down to IPv4 Firewall. Click + Add rule to add a new rule. </li><li>Select &quot;HTTPS&quot; as the application, and then the green &quot;create&quot; button.</li></ol><p>This should also create the matching IPv6 rule automatically for you.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-a-dns-entry-with-the-new-dns-name-you-chose">Create a DNS entry with the new DNS name you chose<a class="hash-link" href="#create-a-dns-entry-with-the-new-dns-name-you-chose" title="Direct link to heading">â€‹</a></h2><p>Create a new <code>A</code> record that points to your new IP address and matches the DNS
name you chose earlier. The instructions for this vary depending on where your
DNS is hosted. The AWS documentation is pretty confusing. Here are some <a href="https://pantheon.io/docs/route53" target="_blank" rel="noopener noreferrer">good
instructions</a> on the Pantheon website.</p><p>Optionally: create an <code>AAAA</code> record that points to the IPv6 IP address that
matches your new Lightsail instance. This will allow people to access your new
server over IPv6 and is a good future-proofing step with no cost.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-an-s3-bucket-to-match-your-new-dns-name">Create an S3 Bucket to match your new DNS name<a class="hash-link" href="#create-an-s3-bucket-to-match-your-new-dns-name" title="Direct link to heading">â€‹</a></h2><p>Follow the instructions to <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html" target="_blank" rel="noopener noreferrer">create an AWS S3
bucket</a> using the AWS console.</p><p>You will make a new S3 bucket with these configuration options:</p><ol><li>Named the same as your DNS name. E.g., <code>apps.example.com</code></li><li>Matches the AWS region of your Lightsail instance.</li><li>Use the default security policy, including <code>Block Public Access</code>.</li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="create-an-iam-user-that-has-appropriate-access-to-your-s3-bucket">Create an IAM user that has appropriate access to your S3 bucket<a class="hash-link" href="#create-an-iam-user-that-has-appropriate-access-to-your-s3-bucket" title="Direct link to heading">â€‹</a></h2><p>I tend to create an S3 user with &quot;Full Access&quot; permissions, because the
AWS account only includes S3 buckets that Docassemble is intended to access.</p><p>Visit the Identity Access and Management (IAM) console in AWS.
Create a new user with the same name as your DNS name. E.g.,
<code>apps.example.com</code>. </p><p>For AWS Access type, select &quot;Programmatic access&quot; and then click Next.</p><p>Under Set permissions, choose &quot;Attach existing policies directly&quot;.</p><p>Under &quot;filter policies&quot;, type S3. Check the box next to AmazonS3FullAccess.</p><p>Click next and don&#x27;t modify anything on the Tags page. Click Next: Review, and then
Create user.</p><p><strong>Copy the Access key ID and Secret access key</strong> to a safe place, such as an open
text editor window. This is your only chance to view the secret access key.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="finish-installation-on-your-lightsail-instance-over-ssh">Finish installation on your Lightsail instance over SSH<a class="hash-link" href="#finish-installation-on-your-lightsail-instance-over-ssh" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="connect-with-ssh">Connect with SSH<a class="hash-link" href="#connect-with-ssh" title="Direct link to heading">â€‹</a></h3><p>Follow the AWS instructions to <a href="https://lightsail.aws.amazon.com/ls/docs/en_us/articles/understanding-ssh-in-amazon-lightsail" target="_blank" rel="noopener noreferrer">connect to your new server with
SSH</a>.
I recommend using either Putty or another 3rd-party SSH client, but the
browser-based SSH console will work in a pinch.</p><p>Either way, I suggest downloading the default lightsail SSH keypair and keeping
a copy somewhere safe.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="update-the-server">Update the server<a class="hash-link" href="#update-the-server" title="Direct link to heading">â€‹</a></h3><p>From the SSH console, type the following commands, hitting enter after one:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt upgrade -u -y</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="install-docker">Install docker<a class="hash-link" href="#install-docker" title="Direct link to heading">â€‹</a></h3><p>Type the command below to install docker</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt install docker.io</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="add-your-user-account-to-the-docker-group">Add your user account to the Docker group<a class="hash-link" href="#add-your-user-account-to-the-docker-group" title="Direct link to heading">â€‹</a></h3><p>Type the following commands in the SSH console:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">sudo usermod -aG docker $USER</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">newgrp docker </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="create-an-envlist-file">Create an env.list file<a class="hash-link" href="#create-an-envlist-file" title="Direct link to heading">â€‹</a></h3><p>In an editor of your choice, copy the following text:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">DAHOSTNAME=apps.example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">S3ENABLE=true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">S3BUCKET=apps.example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">S3ACCESSKEY=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">S3SECRETACCESSKEY=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">S3REGION=us-east-2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TIMEZONE=America/New_York</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">USEHTTPS=true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">USELETSENCRYPT=true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LETSENCRYPTEMAIL=apps@example.com</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Update the values as follows:</p><ul><li>Under DAHOSTNAME, set it to your DNS name.</li><li>Under S3 bucket, set it to your DNS name.</li><li>Set the S3ACCESSKEY to your Access key ID.</li><li>Set the S3SECRETACCESSKEY to your secret access key that you wrote down earlier.</li><li>Set the S3 region to the appropriate region you selected.</li><li>Set the Timezone to the matching <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noopener noreferrer">&quot;tz database time
zone&quot;</a> name
that you want to be the default on your server. This will be used in log files
and to set the time that daily scheduled cron scripts run.</li><li>Set LETSENCRYPTEMAIL to an email of your choice. You will receive messages at this
address if your certificate is about to expire, but otherwise will not.</li></ul><p>Notice that in the Docker environment file, we use a lowercase <code>true</code>, not <code>True</code>.</p><p>Create a new file on the server named env.list and copy the settings from your text editor into the file on the server. Here is one way you can do that:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">nano env.list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[shift-insert or right mouse click to paste]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[CTRL+O, CTRL+X to save and exit the Nano editor]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Here is where using a 3rd party SSH console and not the Amazon SSH console is helpful.
Amazon&#x27;s web-based SSH console is very bad at handling copy and paste.</p><p>Save this env.list file locally somewhere secure. It is the one important file that will not be backed up to S3 if something goes wrong on your server.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="start-docker">Start Docker<a class="hash-link" href="#start-docker" title="Direct link to heading">â€‹</a></h2><p>Start up your new docassemble server like this:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -d -p 443:443 -p 80:80 --restart always --env-file env.list jhpyle/docassemble</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="if-you-are-running-docker-on-a-server-you-own-instead-of-aws">If you are running Docker on a server you own instead of AWS<a class="hash-link" href="#if-you-are-running-docker-on-a-server-you-own-instead-of-aws" title="Direct link to heading">â€‹</a></h3><p>Make sure that you set up <a href="https://docassemble.org/docs/docker.html#persistent" target="_blank" rel="noopener noreferrer">persistent volumes</a>.
Both your startup command and your env.list file will look different.</p><header><h1>Sit back and wait</h1></header><p>In a few minutes, your Docassemble server will be up and running. Visit the website at the DNS
name you chose, <code>https://apps.example.com</code>. Log in with the default username and password,
<a href="mailto:admin@admin.com" target="_blank" rel="noopener noreferrer">admin@admin.com</a>/password. Change it to something more secure.</p><header><h1>How many servers do I need?</h1></header><p>I recommend at least 2 servers: a production server and a development server. You may also want
a test server, for a total of 3.</p><p>Production should have the most stable version of Docassemble. Development can test bleeding edge code.
Test should mirror Production as much as possible.</p><p>If you want to configure load balancing, that is something I have not experimented with in Docassemble. Cost
will be much higher but it may be worthwhile. You still will want at least a test/dev and production environment.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="further-reading">Further reading<a class="hash-link" href="#further-reading" title="Direct link to heading">â€‹</a></h2><p>For a lot more detail, review <a href="https://docassemble.org/docs/installation.html" target="_blank" rel="noopener noreferrer">Installation</a> and also
the <a href="https://docassemble.org/docs/config.html" target="_blank" rel="noopener noreferrer">configuration</a> pages.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/suffolklitlab/legal-tech-class/edit/master/class/docs/practical-guide-docassemble/setup-server.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/legal-tech-class/docs/practical-guide-docassemble/installing-production-app"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installing a docassemble app on your production server</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/legal-tech-class/docs/tutorials"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorials</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-your-aws-account" class="table-of-contents__link toc-highlight">Create your AWS account</a></li><li><a href="#choose-a-dns-name" class="table-of-contents__link toc-highlight">Choose a DNS name</a></li><li><a href="#create-your-lightsail-server" class="table-of-contents__link toc-highlight">Create your Lightsail server</a></li><li><a href="#create-a-static-ipv4-address" class="table-of-contents__link toc-highlight">Create a static IPv4 address</a></li><li><a href="#enable-https-traffic-on-your-lightsail-server" class="table-of-contents__link toc-highlight">Enable HTTPS traffic on your Lightsail server</a></li><li><a href="#create-a-dns-entry-with-the-new-dns-name-you-chose" class="table-of-contents__link toc-highlight">Create a DNS entry with the new DNS name you chose</a></li><li><a href="#create-an-s3-bucket-to-match-your-new-dns-name" class="table-of-contents__link toc-highlight">Create an S3 Bucket to match your new DNS name</a></li><li><a href="#create-an-iam-user-that-has-appropriate-access-to-your-s3-bucket" class="table-of-contents__link toc-highlight">Create an IAM user that has appropriate access to your S3 bucket</a></li><li><a href="#finish-installation-on-your-lightsail-instance-over-ssh" class="table-of-contents__link toc-highlight">Finish installation on your Lightsail instance over SSH</a><ul><li><a href="#connect-with-ssh" class="table-of-contents__link toc-highlight">Connect with SSH</a></li><li><a href="#update-the-server" class="table-of-contents__link toc-highlight">Update the server</a></li><li><a href="#install-docker" class="table-of-contents__link toc-highlight">Install docker</a></li><li><a href="#add-your-user-account-to-the-docker-group" class="table-of-contents__link toc-highlight">Add your user account to the Docker group</a></li><li><a href="#create-an-envlist-file" class="table-of-contents__link toc-highlight">Create an env.list file</a></li></ul></li><li><a href="#start-docker" class="table-of-contents__link toc-highlight">Start Docker</a><ul><li><a href="#if-you-are-running-docker-on-a-server-you-own-instead-of-aws" class="table-of-contents__link toc-highlight">If you are running Docker on a server you own instead of AWS</a></li></ul></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further reading</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/legal-tech-class/docs/introduction-to-docassemble">Overview of Docassemble</a></li><li class="footer__item"><a href="https://suffolklitlab.org/howto/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Suffolk LIT Lab How To<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://docassemble.org/docs/support.html#tocAnchor-1-1" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More information</div><ul class="footer__items"><li class="footer__item"><a href="https://nonprofittechy.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>About the Editor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://suffolklitlab.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>About the LIT Lab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/suffolklitlab/legal-tech-class" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/suffolklitlab" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Image Credits</div><ul class="footer__items"><li class="footer__item"><a href="https://www.flaticon.com/authors/freepik" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Icons made by Freepik<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.flaticon.com/free-icon/excavator_975574" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Icons made by Freepik<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Quinten Steenhuis and open source contributors. Built with Docusaurus. <a target="_blank" href="https://icons8.com/icons/set/law">Law icon</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a></div></div></div></footer></div>
<script src="/legal-tech-class/assets/js/runtime~main.20ffbc4b.js"></script>
<script src="/legal-tech-class/assets/js/main.e5304d49.js"></script>
</body>
</html>