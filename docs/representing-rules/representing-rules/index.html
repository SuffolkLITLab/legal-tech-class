<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.4/mermaid.min.js"></script>

<title data-react-helmet="true">Representing Law as Code</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Docassemble Open Class · A collaboratively-built class for teaching Docassemble"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="How do we take legal rules, in all of their ambiguity, and turn them into computer code?"><meta data-react-helmet="true" property="og:description" content="How do we take legal rules, in all of their ambiguity, and turn them into computer code?"><meta data-react-helmet="true" property="og:url" content="https://nonprofittechy.github.io/docassemble-class/docs/representing-rules/representing-rules">

<link data-react-helmet="true" rel="shortcut icon" href="/docassemble-class/img/favicon.ico">


<link rel="stylesheet" href="/docassemble-class/styles.d6c9b6a4.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/docassemble-class/"><img class="navbar__logo" src="/docassemble-class/img/logo.svg" alt="My Site Logo"><strong>Docassemble Class</strong></a><a class="navbar__item navbar__link" href="/docassemble-class/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/docassemble-class/docs/classes/2020-law-smart-machines">Classes</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://docassemble.org/docs.html">Official Documentation</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/nonprofittechy/docassemble-class">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/docassemble-class/"><img class="navbar__logo" src="/docassemble-class/img/logo.svg" alt="My Site Logo"><strong>Docassemble Class</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/classes/2020-law-smart-machines">Classes</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://docassemble.org/docs.html">Official Documentation</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/nonprofittechy/docassemble-class">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/introduction">Introduction to Docassemble</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">The Access to Justice Problem</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/a2j/a2j">Access to Justice</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">The Changing Legal Profession</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/changing-legal-profession/changing-legal-profession">Changing Legal Profession</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Avoiding Failure</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/avoiding-failure/avoiding-failure">avoiding-failure</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Forming a Team</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/forming-team/forming-team">forming-team</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Assessing User Needs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/user-needs/user-needs">user-needs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Choosing the Right Project</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/choosing-project/choosing-project">Choosing a project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Centered Design</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/user-centered-design/user-centered-design">User Centered Design</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Preparing Your Project</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/project-planning/project-planning">project-planning</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Speaking the Right Language</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/speaking-right-language/speaking-right-language">Using Plain Language</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Representing Rules in Code</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docassemble-class/docs/representing-rules/representing-rules">Representing Law as Code</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">A Practical Guide to Docassemble Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/practical-guide-docassemble/practical-guide-docassemble">practical-guide-docassemble</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/practical-guide-docassemble/object-oriented-programming">Object Oriented Programming</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">The Prototyping Phase</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/prototyping/prototyping">prototyping</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Verifying Your Work</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/verification/verification">verification</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Useful Feedback</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/feedback/feedback">feedback</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Testing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/testing/testing">Testing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Driving User Acceptance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/gaining-audience/gaining-audience">Driving User Acceptance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Maintenance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/maintenance/maintenance">maintenance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Ethical Issues</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/ethical-issues/ethical-issues">ethical-issues</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/tutorials">Tutorials</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Classes</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Lawyering in the Age of Smart Machines</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/classes/2020-law-smart-machines">Suffolk Law School Spring 2020: Lawyering in the Age of Smart Machines
</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/classes/law-smart-machines-final-project">Final Project</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/classes/project-ideas">Project Ideas</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/classes/2020-law-smart-machines-assignment-1">Assignment 1</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/classes/2020-law-smart-machines-assignment-2">Assignment 2</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/classes/assignment-branch-logic">Assignment 3</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/yaml">Understanding YAML</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/markdown">Understanding Markdown</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/mako">Overview of Mako</a></li><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/python">Understanding Python</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Appendices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docassemble-class/docs/appendices/editing-docusaurus">editing-docusaurus</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Representing Law as Code</h1></header><div class="markdown"><p>How do we take legal rules, in all of their ambiguity, and turn them into computer code?
Computers are literal. As we used to say, &quot;garbage-in, garbage out.&quot; When translating law
to code, we turning something liminal into 1s and 0s. Sometimes great ambiguity is hidden
in a comma or a word like &quot;reasonable.&quot;</p><p>Talking to a subject matter expert to transform a rule into code can be tricky. Lawyers are
trained to apply law to facts. When turning a rule into code, we need to apply a law to
all possible sets of facts at once. This is an exercise that requires a different kind
of legal thinking.</p><p>When creating an expert system, it&#x27;s easy to mix code that represents rules with code
that controls the formatting and display of the different screens or the final output.
This can lead to a hard to debug mess. Mistakes in translation might be hard to catch
without careful attention.</p><p>Both of these concerns--translating, and making our code that translates law understandable--
are at the forefront of the legal rule representation problem.</p><p>The area of computational research that explores this can be generally described as <strong>Rules
as Code</strong>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="limits-to-translation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#limits-to-translation" title="Direct link to heading">#</a>Limits to translation</h2><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="case-based-reasoning"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#case-based-reasoning" title="Direct link to heading">#</a>Case based reasoning</h2><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="external-logic"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#external-logic" title="Direct link to heading">#</a>External logic</h2><p>Externalizing logical rules, so that they are no longer mixed with interview or template logic, can help reduce these problems. Various authors have made efforts to represent logical rules in a platform-independent way. Some authors have used Google Sheets to represent rules. In the case of HotDocs, such rules need to be compiled into code, but Docassemble can make direct use of those rules. Neota Logic also allows for external representations of logical rules.</p><p>Jason Morris has adapted the Legal Case Based Analogical Reasoning Tool to create applications with logic independent of a specific interview, reasoning by analogy to previous cases, and directly usable within a Docassemble interview.</p><p>From the business process world, the Decision Model and Notation (DMN) representation can express complex logical rules. Rules expressed as DMNs could be directly integrated into systems such as Docassemble, or compiled into code for other platforms. This is a promising avenue for improving interactive legal application quality and maintainability. Dimyadi et al. [7] report one successful effort along these lines.</p><p>Another interesting approach to specifying legal rules is to write them as functions or object-oriented classes with abstract interfaces. Rather than embody the logic inside an interview, then, the interview can just present the relevant variables as parameters to the function, and let the function tell you whether the rule applies or not. The code still must be written by a developer and reviewed by a subject matter expert. The main advantage is when the same legal rules are used in multiple interviews. This approach would also assist authors in developing unit tests to avoid regressions as an interview is amended over time.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="making-the-implicit-explicit"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#making-the-implicit-explicit" title="Direct link to heading">#</a>Making the implicit explicit</h2><p>Proscriptively, in the planning and implementation phase, authors should use methods to inventory and codify the legal and business rules that the system will be implementing. Often the legal rules may derive from a body of case law and statutes, but subject matter experts should translate any rules that the system will follow into plain English, in a form analogous to a syllogism (IF A and B, then C) . Then it can be the author’s project to translate those rules into computer code. Methods of externally expressing the legal rules that can be directly used by the reasoning engine discussed above will cut down on translation errors to the extent that they can reviewed or authored by the SME more easily than traditional code can be. This is likely to be an iterative process. Business rules that are familiar to the subject matter expert through their daily practice may be unwritten or invisible, but become clear when the automated system is used.</p><p>The same care and attention must be given to the information that is not expressed in a rule, but is still delivered to the user, through help texts or materials produced for the user. Such texts should be written and reviewed completely by the SME, with editing for plain language and usability also subject to SME review. If alternate information is delivered to the end-user, rules should be written to clearly express in which circumstance a given set is delivered. This information can be referenced in comments. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="moving-away-from-the-flowchart"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#moving-away-from-the-flowchart" title="Direct link to heading">#</a>Moving away from the flowchart</h2><p>Visual representations of interview paths can be useful, but a flowchart representing an interview with hundreds of paths will often be harder to read than the code. Legal applications can be visualized as finite state automatons, but this representation may not be useful when it is too hard to translate from this state into working code or difficult for a subject matter expert to review.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="explorations-in-rules-as-code"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#explorations-in-rules-as-code" title="Direct link to heading">#</a>Explorations in rules as code</h2><ul><li><a href="https://en.wikipedia.org/wiki/Decision_table">Decision Tables</a></li><li><a href="https://en.wikipedia.org/wiki/Legal_XML">Oasis Legal XML</a></li><li><a href="https://en.wikipedia.org/wiki/Business_Process_Model_and_Notation">BPMN/DMN</a></li><li><a href="https://blawx.com">Blawx</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="further-reading"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#further-reading" title="Direct link to heading">#</a>Further reading</h2><ul><li>Rules as Code: <a href="https://www.lawpracticetoday.org/article/rules-code/">https://www.lawpracticetoday.org/article/rules-code/</a> (<a href="https://perma.cc/NFS4-P7ZY">https://perma.cc/NFS4-P7ZY</a>)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="contributors-and-acknowledgments"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#contributors-and-acknowledgments" title="Direct link to heading">#</a>Contributors and acknowledgments</h2><p>Excerpted in part from Marc Lauritsen and Quinten Steenhuis. 2019. Substantive Legal Software Quality: A Gathering Storm?. In
<em>Proceedings of the Seventeenth International Conference on Artificial Intelligence and Law (ICAIL &#x27;19)</em>. ACM, New
York, NY, USA, 52-62. DOI: <a href="https://doi.org/10.1145/3322640.3326706">https://doi.org/10.1145/3322640.3326706</a>. Available online at <a href="http://www.capstonepractice.com/s/Substantive-Legal-Software-Quality-A-Gathering-Storm.pdf">http://www.capstonepractice.com/s/Substantive-Legal-Software-Quality-A-Gathering-Storm.pdf</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nonprofittechy/docassemble-class/edit/master/open-class/docs/representing-rules/representing-rules.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docassemble-class/docs/speaking-right-language/speaking-right-language"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Speaking the Right Language</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docassemble-class/docs/practical-guide-docassemble/practical-guide-docassemble"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">practical-guide-docassemble »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#limits-to-translation" class="contents__link">Limits to translation</a></li><li><a href="#case-based-reasoning" class="contents__link">Case based reasoning</a></li><li><a href="#external-logic" class="contents__link">External logic</a></li><li><a href="#making-the-implicit-explicit" class="contents__link">Making the implicit explicit</a></li><li><a href="#moving-away-from-the-flowchart" class="contents__link">Moving away from the flowchart</a></li><li><a href="#explorations-in-rules-as-code" class="contents__link">Explorations in rules as code</a></li><li><a href="#further-reading" class="contents__link">Further reading</a></li><li><a href="#contributors-and-acknowledgments" class="contents__link">Contributors and acknowledgments</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docassemble-class/docs/introduction">Overview of Docassemble</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://docassemble.org/docs/support.html#tocAnchor-1-1">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://nonprofittechy.com">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/nonprofittechy/docassemble-class">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/qsteenhuis">Twitter</a></li></ul></div></div><div class="text--center">Copyright © 2020 Quinten Steenhuis. Built with Docusaurus.</div></div></footer>
</div>

<script src="/docassemble-class/styles.297b5161.js"></script>

<script src="/docassemble-class/runtime~main.59d10268.js"></script>

<script src="/docassemble-class/main.9490fd0f.js"></script>

<script src="/docassemble-class/1.f66e488a.js"></script>

<script src="/docassemble-class/2.29745362.js"></script>

<script src="/docassemble-class/1be78505.4e873e69.js"></script>

<script src="/docassemble-class/41a403f7.6033d7d7.js"></script>

<script src="/docassemble-class/17896441.6d9345ea.js"></script>

<script src="/docassemble-class/a655bd5f.8ab523fe.js"></script>


</body>
</html>