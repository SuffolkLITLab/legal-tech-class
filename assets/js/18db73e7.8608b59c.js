"use strict";(self.webpackChunkopen_class=self.webpackChunkopen_class||[]).push([[6640],{4030:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>r});var a=t(4848),i=t(8453);const s={slug:"installing-production-app",title:"Installing a docassemble app on your production server",sidebar_label:"Installing a docassemble app on your production server"},o=void 0,l={id:"practical-guide-docassemble/installing-production-app",title:"Installing a docassemble app on your production server",description:"Installing your app involves three basic steps:",source:"@site/docs/practical-guide-docassemble/installing-production-app.md",sourceDirName:"practical-guide-docassemble",slug:"/practical-guide-docassemble/installing-production-app",permalink:"/legal-tech-class/docs/practical-guide-docassemble/installing-production-app",draft:!1,unlisted:!1,editUrl:"https://github.com/suffolklitlab/legal-tech-class/edit/master/class/docs/practical-guide-docassemble/installing-production-app.md",tags:[],version:"current",frontMatter:{slug:"installing-production-app",title:"Installing a docassemble app on your production server",sidebar_label:"Installing a docassemble app on your production server"},sidebar:"someSidebar",previous:{title:"Docassemble with Docker and VS Code",permalink:"/legal-tech-class/docs/practical-guide-docassemble/run-docassemble-docker-vscode"},next:{title:"Securing and maintaining your server",permalink:"/legal-tech-class/docs/practical-guide-docassemble/maintaining-docassemble"}},c={},r=[{value:"Quick start",id:"quick-start",level:2},{value:"Installing the app system-wide",id:"installing-the-app-system-wide",level:2},{value:"Running the installed package",id:"running-the-installed-package",level:2},{value:"Creating a permanent shortcut link to the package",id:"creating-a-permanent-shortcut-link-to-the-package",level:2},{value:"Updating an app that is already installed",id:"updating-an-app-that-is-already-installed",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Installing your app involves three basic steps:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://docassemble.org/docs/packages.html#playground",children:"Putting the app into a\npackage."}),". It's best\nto store the package on Github."]}),"\n",(0,a.jsx)(n.li,{children:"Installing the app system-wide."}),"\n",(0,a.jsxs)(n.li,{children:["Creating a shortcut ",(0,a.jsx)(n.code,{children:"alias"}),' to the app so that you can view it on the\n"Available interviews" /list menu and run it via /start/',(0,a.jsx)(n.code,{children:"alias"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"quick-start",children:"Quick start"}),"\n",(0,a.jsx)(n.p,{children:"Before installing the package, you will need:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"The URL to the package on GitHub."}),"\n",(0,a.jsx)(n.li,{children:"The name of the interview YAML file."}),"\n",(0,a.jsx)(n.li,{children:'The desired "alias" or shortcut name for the package.'}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"The interview author should be able to provide all three pieces of information\nto the server administrator before asking for the app to be installed."})}),"\n",(0,a.jsx)(n.h2,{id:"installing-the-app-system-wide",children:"Installing the app system-wide"}),"\n",(0,a.jsx)(n.p,{children:'To install a package, visit the "Package Management" page on your docassemble\nserver (you can reach it via Menu | Package Management, or the /updatepackage\npage on your server.\n)'}),"\n",(0,a.jsxs)(n.p,{children:['Copy the Github link to your package into the "Github URL" input. It should look\nsomething like this: ',(0,a.jsx)(n.code,{children:"https://github.com/gbls/docassemble-MAEvictionDefense"}),"\n(without any trailing ",(0,a.jsx)(n.code,{children:"/"}),")."]}),"\n",(0,a.jsx)(n.p,{children:'Now, scroll down and click on the large "Update" button. Although this is marked\n"Update," it also serves to install a package for the first time.'}),"\n",(0,a.jsx)(n.h2,{id:"running-the-installed-package",children:"Running the installed package"}),"\n",(0,a.jsx)(n.p,{children:"Now that you've installed the package, how do you run it? You will need to\nidentify two things:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"The internal/Python name of the package that corresponds to your package from\nGitHub."}),"\n",(0,a.jsx)(n.li,{children:"The name of the YAML file(s) that contains the runnable logic of the package."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The internal name of the package is very similar to the name of the GitHub\nrepository, except that you replace the ",(0,a.jsx)(n.code,{children:"-"})," with a ",(0,a.jsx)(n.code,{children:"."}),". For example, the package\n",(0,a.jsx)(n.a,{href:"https://github.com/gbls/docassemble-MAEvictionDefense",children:"https://github.com/gbls/docassemble-MAEvictionDefense"})," becomes\n",(0,a.jsx)(n.code,{children:"docassemble.MAEvictionDefense"}),'. Package names are case sensitive. If you used\nthe docassemble playground to create your package, it will always start with\n"docassemble" as the beginning of the package name.']}),"\n",(0,a.jsx)(n.p,{children:"The YAML file name is simply the name that the file has in your playground.\nIf this is someone else's package, you will need to do a small amount of dective\nwork."}),"\n",(0,a.jsx)(n.p,{children:'Visit the GitHub page for the package. Each docassemble package has the same\nfolder structure. Navigate by clicking through the folders as follows, replacing\n"PackageName" with the name of your package.'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"docassemble\n  +---[PackageName]\n    +----data\n      +---questions\n"})}),"\n",(0,a.jsxs)(n.p,{children:["For example, for the MAEvictionDefense package, the folder contents\nlook like this:\n",(0,a.jsx)(n.a,{href:"https://github.com/GBLS/docassemble-MAEvictionDefense/tree/master/docassemble/MAEvictionDefense/data/questions",children:"https://github.com/GBLS/docassemble-MAEvictionDefense/tree/master/docassemble/MAEvictionDefense/data/questions"})]}),"\n",(0,a.jsx)(n.p,{children:'For some packages, there is only one YAML file. If there is more than one, you\ncan either ask the package author which one should be run, or click through a\nfew and pick the likeliest candidate. For the MAEvictionDefense package, the\nmain interview file is named "eviction.yml".'}),"\n",(0,a.jsxs)(n.p,{children:["For a package named ",(0,a.jsx)(n.code,{children:"docassemble.MAEvictionDefense"})," and a YAML file named\n",(0,a.jsx)(n.code,{children:"eviction.yml"}),", the link to run the interview is\n",(0,a.jsx)(n.code,{children:"https://[docassemble.example.com]/run/MAEvictionDefense/eviction"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"creating-a-permanent-shortcut-link-to-the-package",children:"Creating a permanent shortcut link to the package"}),"\n",(0,a.jsxs)(n.p,{children:["If you want, you can add a ",(0,a.jsx)(n.a,{href:"https://docassemble.org/docs/config.html#dispatch",children:"customizable, short\nalias"})," for the interview."]}),"\n",(0,a.jsxs)(n.p,{children:['This adds the interview to the /list URL on the server, the "Available\ninterviews" menu option, and allows you to advertise a nicer URL, like\n',(0,a.jsx)(n.code,{children:"https://docassemble.example.com/start/alias"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"This gives you a lot of flexibility to repackage your app later, which\nmakes it a good idea if you ever want to share the link on a different\nwebsite."}),"\n",(0,a.jsxs)(n.p,{children:["You will use the same information needed above: the ",(0,a.jsx)(n.strong,{children:"package name"}),"\nand the ",(0,a.jsx)(n.strong,{children:"YAML filename"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Visit the docassemble configuration page (/config) on your server."}),"\n",(0,a.jsxs)(n.p,{children:["Scroll down and look for an existing ",(0,a.jsx)(n.code,{children:"dispatch"})," section in your\nconfiguration file. If you don't see one, create a new one that looks\nlike this:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"dispatch:\n  alias: docassemble.MyPackageName:data/questions/interview_name.yml\n"})}),"\n",(0,a.jsxs)(n.p,{children:['Replace "MyPackageName" and "interview_name.yml" with the package name\nand the YAML filename for your package, respectively. Now, when someone\nvisits "',(0,a.jsx)(n.a,{href:"https://docassemble.example.com/start/alias",children:"https://docassemble.example.com/start/alias"}),'" they will be redirected to the\n"interview_name.yml" interview.']}),"\n",(0,a.jsx)(n.p,{children:"For example, for the MAEvictionDefense package, the configuration looks like\nthis:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"dispatch:\n  eviction: docassemble.MAEvictionDefense:data/questions/eviction.yml\n"})}),"\n",(0,a.jsxs)(n.p,{children:["And the interview can be run via ",(0,a.jsx)(n.code,{children:"https://interviews.gbls.org/start/eviction"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"updating-an-app-that-is-already-installed",children:"Updating an app that is already installed"}),"\n",(0,a.jsx)(n.p,{children:'If the app has already been installed on the server, you do not need to get the\nGitHub URL again. Just scroll down the /updatepackage page until you see the\nname of the package (remember, it will be docassemble.PackageName). Then click the\n"update" button next to the package.'}),"\n",(0,a.jsx)(n.p,{children:'If you do not see the "update" button but the package is listed, then use the\nGitHub URL as described above.'})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var a=t(6540);const i={},s=a.createContext(i);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);