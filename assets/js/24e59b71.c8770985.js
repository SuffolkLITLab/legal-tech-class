"use strict";(self.webpackChunkopen_class=self.webpackChunkopen_class||[]).push([[8656],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return u}});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var r=n.createContext({}),d=function(e){var t=n.useContext(r),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(r.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,r=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=d(a),u=i,h=p["".concat(r,".").concat(u)]||p[u]||m[u]||l;return a?n.createElement(h,s(s({ref:t},c),{},{components:a})):n.createElement(h,s({ref:t},c))}));function u(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,s=new Array(l);s[0]=p;var o={};for(var r in t)hasOwnProperty.call(t,r)&&(o[r]=t[r]);o.originalType=e,o.mdxType="string"==typeof e?e:i,s[1]=o;for(var d=2;d<l;d++)s[d]=a[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},2230:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return r},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return m},default:function(){return u}});var n=a(7462),i=a(3366),l=(a(7294),a(3905)),s=a(4996),o=["components"],r={slug:"object-oriented-programming",title:"Object Oriented Programming in Docassemble",sidebar_label:"Object Oriented Programming"},d=void 0,c={unversionedId:"practical-guide-docassemble/object-oriented-programming",id:"practical-guide-docassemble/object-oriented-programming",title:"Object Oriented Programming in Docassemble",description:"Overview of Classes",source:"@site/docs/practical-guide-docassemble/object-oriented-programming.md",sourceDirName:"practical-guide-docassemble",slug:"/practical-guide-docassemble/object-oriented-programming",permalink:"/legal-tech-class/docs/practical-guide-docassemble/object-oriented-programming",editUrl:"https://github.com/suffolklitlab/legal-tech-class/edit/master/class/docs/practical-guide-docassemble/object-oriented-programming.md",tags:[],version:"current",frontMatter:{slug:"object-oriented-programming",title:"Object Oriented Programming in Docassemble",sidebar_label:"Object Oriented Programming"},sidebar:"someSidebar",previous:{title:"Controlling Interview Order",permalink:"/legal-tech-class/docs/practical-guide-docassemble/controlling-interview-order"},next:{title:"Repeated Information (Groups)",permalink:"/legal-tech-class/docs/repeated-information"}},m=[{value:"Overview of Classes",id:"overview-of-classes",children:[{value:"Class methods",id:"class-methods",children:[],level:3},{value:"Inheritance",id:"inheritance",children:[],level:3},{value:"Object conventions and syntax",id:"object-conventions-and-syntax",children:[{value:"Naming conventions",id:"naming-conventions",children:[],level:4},{value:"Using variables and methods",id:"using-variables-and-methods",children:[],level:4}],level:3},{value:"Special class constructor methods <code>__init__()</code> and <code>init()</code>",id:"special-class-constructor-methods-__init__-and-init",children:[],level:3},{value:"Special method <code>__str__()</code>",id:"special-method-__str__",children:[],level:3}],level:2},{value:"Classes in Docassemble",id:"classes-in-docassemble",children:[{value:"How Docassemble classes differ",id:"how-docassemble-classes-differ",children:[],level:3},{value:"Using an object inside Docassemble",id:"using-an-object-inside-docassemble",children:[{value:"The <code>modules</code> block",id:"the-modules-block",children:[],level:4},{value:"The <code>objects</code> block",id:"the-objects-block",children:[],level:4},{value:"Working with the object as a variable",id:"working-with-the-object-as-a-variable",children:[],level:4}],level:3}],level:2},{value:"Docassemble&#39;s built-in objects",id:"docassembles-built-in-objects",children:[{value:"The Individual Class",id:"the-individual-class",children:[],level:3},{value:"IndividualName",id:"individualname",children:[],level:3},{value:"Address",id:"address",children:[],level:3}],level:2},{value:"Further reading",id:"further-reading",children:[],level:2}],p={toc:m};function u(e){var t=e.components,a=(0,i.Z)(e,o);return(0,l.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"overview-of-classes"},"Overview of Classes"),(0,l.kt)("p",null,"Objects are a special type of variable. Instead of holding one piece of information, they can hold several at once. For example, the variable ",(0,l.kt)("inlineCode",{parentName:"p"},"x")," can easily represent the number ",(0,l.kt)("inlineCode",{parentName:"p"},"10"),". But what if you wanted a variable to refer to, for example, an apple? You might want to store several pieces of information about the apple at once. Perhaps you want to know its weight, color, and variety."),(0,l.kt)("p",null,"You could store the information in several variables, like this:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"apple_weight")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"apple_color")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"apple_variety"))),(0,l.kt)("p",null,"Suppose you need to keep track of 10 different apples. Now you have:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"apple2_weight")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"apple2_color")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"apple2_variety"),"\n... and so on")),(0,l.kt)("p",null,"This can quickly become hard to manage. What's more, each time you make a new variable to represent an apple, you introduce the risk of making a mistake."),(0,l.kt)("p",null,"In object-oriented programming, you can more easily keep track of your variables by writing a kind of blueprint, or ",(0,l.kt)("inlineCode",{parentName:"p"},"class definition")," that lets you group the related variables together. Once it's part of an object like, this, we call the individual variables ",(0,l.kt)("inlineCode",{parentName:"p"},"attributes"),". An ",(0,l.kt)("inlineCode",{parentName:"p"},"object")," is an ",(0,l.kt)("inlineCode",{parentName:"p"},"instance")," of a ",(0,l.kt)("inlineCode",{parentName:"p"},"Class")," with one or more of those attributes filled-in with specific values."),(0,l.kt)("p",null,"You can think of a classes' definition as the column labels in a spreadsheet:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"object"),(0,l.kt)("th",{parentName:"tr",align:null},"weight"),(0,l.kt)("th",{parentName:"tr",align:null},"color"),(0,l.kt)("th",{parentName:"tr",align:null},"variety"),(0,l.kt)("th",{parentName:"tr",align:null},"calories"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"apple1"),(0,l.kt)("td",{parentName:"tr",align:null},"300 grams"),(0,l.kt)("td",{parentName:"tr",align:null},"red"),(0,l.kt)("td",{parentName:"tr",align:null},"Red delicious"),(0,l.kt)("td",{parentName:"tr",align:null},"75")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"apple2"),(0,l.kt)("td",{parentName:"tr",align:null},"270 grams"),(0,l.kt)("td",{parentName:"tr",align:null},"green"),(0,l.kt)("td",{parentName:"tr",align:null},"Granny Smith"),(0,l.kt)("td",{parentName:"tr",align:null},"72")))),(0,l.kt)("p",null,"Or perhaps a blank form:"),(0,l.kt)("img",{alt:"Overview of the Docassemble Playground",src:(0,s.Z)("img/class-registration.png")}),(0,l.kt)("p",null,"In both cases, what the class definition does it give the individual variables a structure. It provides a meaning to a collection of variables, so that every time you create an object, each object will have the same basic outline and you can use it the same way."),(0,l.kt)("p",null,"One way to keep track of the different attributes and methods of a class is with a special kind of diagram, called a ",(0,l.kt)("a",{parentName:"p",href:"https://tallyfy.com/uml-diagram/#class-diagram"},"UML class diagram"),".\nHere is a UML diagram that represents the ",(0,l.kt)("inlineCode",{parentName:"p"},"Apple")," class:"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBBcHBsZSB7XG4gIHdlaWdodDogZmxvYXRcbiAgY29sb3I6IHN0clxuICB2YXJpZXR5OiBzdHJcbn0iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ"},(0,l.kt)("img",{parentName:"a",src:"https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBBcHBsZSB7XG4gIHdlaWdodDogZmxvYXRcbiAgY29sb3I6IHN0clxuICB2YXJpZXR5OiBzdHJcbn0iLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ",alt:null}))),(0,l.kt)("p",null,"The basic structure of a UML diagram is three boxes:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"the class name at the top"),(0,l.kt)("li",{parentName:"ol"},"An optional list of attributes in the middle"),(0,l.kt)("li",{parentName:"ol"},"An optional list of methods at the end")),(0,l.kt)("p",null,"UML diagrams are just one way to represent a class. It's a standard that can make it easy to quickly communicate the list of different kinds of information that the class contains."),(0,l.kt)("p",null,"We also often list the ",(0,l.kt)("em",{parentName:"p"},"type")," of each variable after its name in this diagram. In the example diagram, weight is a ",(0,l.kt)("em",{parentName:"p"},"floating point")," number, or float (has a decimal). Color and variety are text, or ",(0,l.kt)("em",{parentName:"p"},"str")," types."),(0,l.kt)("p",null,"Sometimes a class's attributes themselves are classes. You'll see this is common in Docassemble's built-in objects."),(0,l.kt)("h3",{id:"class-methods"},"Class methods"),(0,l.kt)("p",null,"So far our metaphor has concentrated on information, but something special about ",(0,l.kt)("inlineCode",{parentName:"p"},"objects")," is that you can also group ",(0,l.kt)("inlineCode",{parentName:"p"},"methods")," with the object definition. A ",(0,l.kt)("inlineCode",{parentName:"p"},"method")," is a function that is part of a class definition. When you run an object's method, you are taking an action that uses the information in the class and gives you back something new, such as a true/false value, a number, or text that you can display on the screen."),(0,l.kt)("p",null,"For example, an apple might have a method ",(0,l.kt)("inlineCode",{parentName:"p"},"is_ripe()")," that uses the ",(0,l.kt)("inlineCode",{parentName:"p"},"planted_date")," and today's date to tell you if the apple is ready to be picked. It would return ",(0,l.kt)("inlineCode",{parentName:"p"},"True")," if the apple is ripe, and ",(0,l.kt)("inlineCode",{parentName:"p"},"False")," if it isn't ready."),(0,l.kt)("p",null,"Here's the updated diagram that shows the ",(0,l.kt)("inlineCode",{parentName:"p"},"is_ripe()")," method:"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gIGNsYXNzIEFwcGxlIHtcbiAgICB3ZWlnaHRcbiAgICBjb2xvclxuICAgIHZhcmlldHlcbiAgICBpc19yaXBlKClcbiAgfSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"},(0,l.kt)("img",{parentName:"a",src:"https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG4gIGNsYXNzIEFwcGxlIHtcbiAgICB3ZWlnaHRcbiAgICBjb2xvclxuICAgIHZhcmlldHlcbiAgICBpc19yaXBlKClcbiAgfSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9",alt:null}))),(0,l.kt)("p",null,"If we had an Apple object named ",(0,l.kt)("inlineCode",{parentName:"p"},"jons_apple"),", we could display its ripeness in our interview like this: ",(0,l.kt)("inlineCode",{parentName:"p"},"${jons_apple.is_ripe()}"),"."),(0,l.kt)("h3",{id:"inheritance"},"Inheritance"),(0,l.kt)("p",null,"A useful aspect of classes is that one class can rely on, or inherit, the definition of a different class. We call the more generic class the ",(0,l.kt)("inlineCode",{parentName:"p"},"parent")," and the more specific class the ",(0,l.kt)("inlineCode",{parentName:"p"},"child")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"sub-class"),". Below, the ",(0,l.kt)("inlineCode",{parentName:"p"},"Apple")," class inherits from the more generic ",(0,l.kt)("inlineCode",{parentName:"p"},"fruit")," class. It has its own ",(0,l.kt)("inlineCode",{parentName:"p"},"is_ripe()")," method, because different kinds of fruit ripen at different times. But it can use all of the same attributes as the original Fruit class."),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBBcHBsZSB7XG4gIGlzX3JpcGUoKTogYm9vbFxufVxuXG5BcHBsZSA8fC0tIEZydWl0XG5cbmNsYXNzIEZydWl0IHtcbiAgd2VpZ2h0OiBmbG9hdFxuICBjb2xvcjogc3RyXG4gIHZhcmlldHk6IHN0clxuICBpc19yaXBlKCk6IGJvb2wgIFxufSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"},(0,l.kt)("img",{parentName:"a",src:"https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBBcHBsZSB7XG4gIGlzX3JpcGUoKTogYm9vbFxufVxuXG5BcHBsZSA8fC0tIEZydWl0XG5cbmNsYXNzIEZydWl0IHtcbiAgd2VpZ2h0OiBmbG9hdFxuICBjb2xvcjogc3RyXG4gIHZhcmlldHk6IHN0clxuICBpc19yaXBlKCk6IGJvb2wgIFxufSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9",alt:null}))),(0,l.kt)("p",null,"One benefit of inheritance is reducing the code you need to write. But inheritance also allows you to write your own very specific class, such as ",(0,l.kt)("inlineCode",{parentName:"p"},"Macoun")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"Cortland"),", without having to update any functions in your program that might expect to work on every kind of ",(0,l.kt)("inlineCode",{parentName:"p"},"Apple")," or even ",(0,l.kt)("inlineCode",{parentName:"p"},"Fruit"),"."),(0,l.kt)("p",null,"Any function that expects to work with a Fruit object will also be able to work with an Apple object if the Apple object ",(0,l.kt)("em",{parentName:"p"},"inherits")," from the Fruit class. Inheritance lets you layer on new features without breaking compatibility with the old one."),(0,l.kt)("h3",{id:"object-conventions-and-syntax"},"Object conventions and syntax"),(0,l.kt)("h4",{id:"naming-conventions"},"Naming conventions"),(0,l.kt)("p",null,"One convention that is true for almost every programming language that has objects is that we use capital letters at the beginning of words, and without spaces, for class names. For example, if we have a class the represents rectangles, we would normally name it ",(0,l.kt)("inlineCode",{parentName:"p"},"Rectangle")," or maybe ",(0,l.kt)("inlineCode",{parentName:"p"},"FourSidedFigure"),". This capitalization style is called ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Camel_case"},"Pascal Case")," after the first programming language to use this variable naming standard, ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Pascal_(programming_language)"},"Pascal"),'. (Another name for this style is sometimes camel case, although "camel case" is often reserved for variable names where only the second word is capitalized, looking a little like a camel\'s hump.)'),(0,l.kt)("p",null,"When you see a name written in PascalCase style, it's a good clue that you are looking at a class name."),(0,l.kt)("p",null,"When you use an object, you still use lower case names with underscores between each word for variable names. For example, ",(0,l.kt)("inlineCode",{parentName:"p"},"my_apple")," could be an instance of the ",(0,l.kt)("inlineCode",{parentName:"p"},"Apple")," class."),(0,l.kt)("h4",{id:"using-variables-and-methods"},"Using variables and methods"),(0,l.kt)("p",null,"You access an object's attributes by using ",(0,l.kt)("inlineCode",{parentName:"p"},".")," ",(0,l.kt)("inlineCode",{parentName:"p"},"dot notation"),". This simply means the name of the attribute comes after the object's name, separated by a ",(0,l.kt)("inlineCode",{parentName:"p"},"."),". For example: ",(0,l.kt)("inlineCode",{parentName:"p"},"my_apple.weight = 100.7"),"."),(0,l.kt)("p",null,"Methods also use dot notation. Like functions, you call a method with two parentheses after the method's name: ",(0,l.kt)("inlineCode",{parentName:"p"},"apple.is_ripe()"),", optionally with one or more parameters. ",(0,l.kt)("inlineCode",{parentName:"p"},'apple.nutritional_value("human")'),"."),(0,l.kt)("h3",{id:"special-class-constructor-methods-__init__-and-init"},"Special class constructor methods ",(0,l.kt)("inlineCode",{parentName:"h3"},"__init__()")," and ",(0,l.kt)("inlineCode",{parentName:"h3"},"init()")),(0,l.kt)("p",null,"Python Classes all have a special method, named ",(0,l.kt)("inlineCode",{parentName:"p"},"__init__"),". This is called the class constructor. "),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Note: if you write your own class, Docassemble objects should never directly replace the ",(0,l.kt)("inlineCode",{parentName:"p"},"__init__()")," method. Instead, you will use the method ",(0,l.kt)("inlineCode",{parentName:"p"},"init()"),".")),(0,l.kt)("p",null,"Any time that Docassemble (or Python) creates a new object of this class, the ",(0,l.kt)("inlineCode",{parentName:"p"},"__init__")," method will run."),(0,l.kt)("p",null,"What is the purpose of a class constructor? The class constructor does any setup work that your object needs. For example: it could take the parameters and assign them to attributes to use later; it could run\nsome calculations in advance; or download information from the Internet that it stores for faster access. Just like regular functions and methods, sometimes a class constructor has parameters. For example, a class that represents a Rectangle might have two parameters: side1_length, and side2_length."),(0,l.kt)("h3",{id:"special-method-__str__"},"Special method ",(0,l.kt)("inlineCode",{parentName:"h3"},"__str__()")),(0,l.kt)("p",null,"Objects have another special built-in method that they expect to see, named ",(0,l.kt)("inlineCode",{parentName:"p"},"__str__()"),". The ",(0,l.kt)("inlineCode",{parentName:"p"},"__str__()")," method will return a string (text) representation of the object. This is very useful for use inside Docassemble, as we often display information on the screen. For example, the standard string representation of a person is: person.name.first + person.name.middle + person.name. Using the ",(0,l.kt)("inlineCode",{parentName:"p"},"__str__()")," method allows you to just mention the person object without having to write out first name, last name, etc."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-markdown"},"${user}\n")),(0,l.kt)("p",null,"Is the equivalent of writing:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-markdown"},"${user.__str__()}\n")),(0,l.kt)("p",null,"Think of ",(0,l.kt)("inlineCode",{parentName:"p"},"__str__()")," as a convenient shortcut. It runs anytime you write the object's name that Docassemble expects to see text, like in an interview or in a template."),(0,l.kt)("p",null,"Writing ",(0,l.kt)("inlineCode",{parentName:"p"},"${user}")," would print out ",(0,l.kt)("inlineCode",{parentName:"p"},"Quinten Steenhuis")," if ",(0,l.kt)("inlineCode",{parentName:"p"},"user.name.first")," is Quinten and ",(0,l.kt)("inlineCode",{parentName:"p"},"user.name.last")," is Steenhuis."),(0,l.kt)("h2",{id:"classes-in-docassemble"},"Classes in Docassemble"),(0,l.kt)("p",null,"OK. So far, we learned that an object is a type of variable that can store different, related information in one place. You may not create your own classes for some time. However, this background is helpful for making use of Docassemble's built-in helper classes, methods, and functions that expect to work on a built-in class."),(0,l.kt)("h3",{id:"how-docassemble-classes-differ"},"How Docassemble classes differ"),(0,l.kt)("p",null,"In order to work with Docassemble, every object should inherit from the ",(0,l.kt)("inlineCode",{parentName:"p"},"DAObject")," class."),(0,l.kt)("p",null,"You may have seen that in most class definitions, you typically list all of the attributes when you create the class. In Docassemble, missing variable definitions are needed to trigger a question being asked. So, instead, you will normally leave those attributes undefined at the class definition time. You can include a comment that lists all of the attributes, and also make use of those attributes inside methods."),(0,l.kt)("p",null,"Docassemble objects also expect to know their own name, stored as a special attribute ",(0,l.kt)("inlineCode",{parentName:"p"},"instanceName"),". If you use an existing class, you don't need to worry about this special feature. Docassemble handles this for you when you use the ",(0,l.kt)("inlineCode",{parentName:"p"},"objects")," block. If you write your own classes, this is something that is important to know."),(0,l.kt)("h3",{id:"using-an-object-inside-docassemble"},"Using an object inside Docassemble"),(0,l.kt)("h4",{id:"the-modules-block"},"The ",(0,l.kt)("inlineCode",{parentName:"h4"},"modules")," block"),(0,l.kt)("p",null,"If you write your own ",(0,l.kt)("inlineCode",{parentName:"p"},"Class"),", you need to tell Docassemble that you plan to use it with a modules block:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nmodules:\n  - module_from_other_package\n  - .module_in_this_package\n")),(0,l.kt)("p",null,"Module files are just Python code. In the background, the modules block tells Docassemble to ",(0,l.kt)("inlineCode",{parentName:"p"},"import")," a Python file with the classes and functions you need for your interview."),(0,l.kt)("p",null,"You do not need to use a modules block for any of the built-in classes. They live in a Python file too, but Docassemble automatically includes it for you."),(0,l.kt)("h4",{id:"the-objects-block"},"The ",(0,l.kt)("inlineCode",{parentName:"h4"},"objects")," block"),(0,l.kt)("p",null,"Unlike regular Python/Docassemble variables, objects need to be named and defined before they are used.\nYou create an ",(0,l.kt)("inlineCode",{parentName:"p"},"instance")," of an object and assign its name with the ",(0,l.kt)("inlineCode",{parentName:"p"},"objects")," block:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nobjects:\n  - user: Individual\n")),(0,l.kt)("p",null,"Underneath the ",(0,l.kt)("inlineCode",{parentName:"p"},"objects")," keyword, you can write the names of as many object variables that you need for your\ninterview. Just like the fields statement, this is a list. On the left of the ",(0,l.kt)("inlineCode",{parentName:"p"},":"),", write the variable name\nthat you want Docassemble to use. On the right, write the name of the class that the object is a member of."),(0,l.kt)("p",null,"In the background, this tells Docassemble to create a new Python object with the name ",(0,l.kt)("inlineCode",{parentName:"p"},"user"),". It will also run the ",(0,l.kt)("inlineCode",{parentName:"p"},"__init__()")," method of the class and do whatever setup is needed for your object."),(0,l.kt)("p",null,"If your class expects any parameters when you make a new object, you can pass those to the ",(0,l.kt)("inlineCode",{parentName:"p"},"__init__()")," method with a special Docassemble\nmethod named ",(0,l.kt)("inlineCode",{parentName:"p"},".using()"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"objects:\n  - user: Individual.using(parameter1=value1, parameter2=value2)\n")),(0,l.kt)("p",null,"You don't need to fully understand this for now. Just remember that sometimes you want to customize your object when you create it. The .using() method is a way to do that inside Docassemble. We'll explain this in more detail when we discuss working with repeated information (Groups)."),(0,l.kt)("h4",{id:"working-with-the-object-as-a-variable"},"Working with the object as a variable"),(0,l.kt)("p",null,"Treat object ",(0,l.kt)("inlineCode",{parentName:"p"},"attributes")," just like ordinary variables. For example, you can use an ordinary Docassemble ",(0,l.kt)("inlineCode",{parentName:"p"},"field")," to assign the value of an attribute:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nquestion: |\n  Your birthday\nfields:\n  - Enter date: user.birthdate\n    datatype: date\n")),(0,l.kt)("h2",{id:"docassembles-built-in-objects"},"Docassemble's built-in objects"),(0,l.kt)("p",null,"Docassemble has a large number of ",(0,l.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/objects.html#stdclasses"},"built-in Classes"),", as well as optional Classes designed to ",(0,l.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/legal.html#tocAnchor-1-2"},"simplify legal matters"),". Many of these are utility classes that help write an interview in a more abstract way, but don't represent real-world objects."),(0,l.kt)("p",null,"You will most likely use these few classes representing things in the physical world again and again:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/objects.html#Person"},(0,l.kt)("inlineCode",{parentName:"a"},"Person")),", representing a legal Person that does not need to be an individual (e.g., it could be a corporation)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/objects.html#Individual"},(0,l.kt)("inlineCode",{parentName:"a"},"Individual")),", representing an individual person"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/objects.html#Name"},(0,l.kt)("inlineCode",{parentName:"a"},"Name"))," and ",(0,l.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/,objects.html#IndividualName"},(0,l.kt)("inlineCode",{parentName:"a"},"IndividualName")),", representing a name"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/objects.html#Address"},(0,l.kt)("inlineCode",{parentName:"a"},"Address")),", representing an address in the real-world, together with its different components (street, longitude/latitude, etc).")),(0,l.kt)("p",null,"They are used throughout Docassemble. Several built-in functions also expect these objects as parameters."),(0,l.kt)("p",null,"The third party Income class is also useful for working with financial information:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/GBLS/docassemble-income"},(0,l.kt)("inlineCode",{parentName:"a"},"Income")))),(0,l.kt)("p",null,"It has several advantages over the Docassemble built-in Classes to represent income information."),(0,l.kt)("p",null,"You may define your own objects as ",(0,l.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/objects.html#DAObject"},(0,l.kt)("inlineCode",{parentName:"a"},"DAObject")),"s and benefit from the neater method of organizing related attributes in one variable, without needing to write your own class definition. "),(0,l.kt)("p",null,"You will also often work with the ",(0,l.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/groups.html#gather%20list"},(0,l.kt)("inlineCode",{parentName:"a"},"DAList"))," and ",(0,l.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/groups.html#gather%20dictionary"},(0,l.kt)("inlineCode",{parentName:"a"},"DADict"))," objects, which allow you to gather repeated information."),(0,l.kt)("h3",{id:"the-individual-class"},"The Individual Class"),(0,l.kt)("p",null,"The Individual class represents a real-world individual. E.g., the person who is using your interview."),(0,l.kt)("p",null,"Here's a diagram of for the key fields in the ",(0,l.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/objects.html#Individual"},"Individual")," class:"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBJbmRpdmlkdWFsIHtcbiAgbmFtZTogSW5kaXZpZHVhbE5hbWVcbiAgYWRkcmVzczogQWRkcmVzc1xuICBiaXJ0aGRhdGU6IERBRGF0ZVRpbWVcbiAgZ2VuZGVyOiBzdHJcbiAgZW1haWw6IHN0clxuICBwaG9uZV9udW1iZXI6IHN0clxuICBtb2JpbGVfbnVtYmVyOiBzdHJcbiAgYWdlX2luX3llYXJzKClcbiAgYWRkcmVzc19ibG9jaygpXG4gIHNhbHV0YXRpb24oKVxuICBwcm9ub3VuKClcbiAgcG9zc2Vzc2l2ZSgpXG59IiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0"},(0,l.kt)("img",{parentName:"a",src:"https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBJbmRpdmlkdWFsIHtcbiAgbmFtZTogSW5kaXZpZHVhbE5hbWVcbiAgYWRkcmVzczogQWRkcmVzc1xuICBiaXJ0aGRhdGU6IERBRGF0ZVRpbWVcbiAgZ2VuZGVyOiBzdHJcbiAgZW1haWw6IHN0clxuICBwaG9uZV9udW1iZXI6IHN0clxuICBtb2JpbGVfbnVtYmVyOiBzdHJcbiAgYWdlX2luX3llYXJzKClcbiAgYWRkcmVzc19ibG9jaygpXG4gIHNhbHV0YXRpb24oKVxuICBwcm9ub3VuKClcbiAgcG9zc2Vzc2l2ZSgpXG59IiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0",alt:null}))),(0,l.kt)("p",null,"Often class diagrams will show the type of each attribute, which the diagram above includes. In the diagram, on the left is the name of the attribute. On the right is the attribute's ",(0,l.kt)("em",{parentName:"p"},"type"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"str")," is the name for text (or string) type variables."),(0,l.kt)("p",null,"Notice that some of the attributes are also objects, and you need to assign values to attributes of those object, instead of directly at the top level. For example: ",(0,l.kt)("inlineCode",{parentName:"p"},"name")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"address")," are objects of class ",(0,l.kt)("inlineCode",{parentName:"p"},"IndividualName")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"Address"),". ",(0,l.kt)("inlineCode",{parentName:"p"},"name")," has attributes ",(0,l.kt)("inlineCode",{parentName:"p"},"first"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"middle"),", and ",(0,l.kt)("inlineCode",{parentName:"p"},"last"),". An ",(0,l.kt)("inlineCode",{parentName:"p"},"address")," has attributes ",(0,l.kt)("inlineCode",{parentName:"p"},"address")," (street address), ",(0,l.kt)("inlineCode",{parentName:"p"},"city"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"state"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"zip"),", and ",(0,l.kt)("inlineCode",{parentName:"p"},"unit"),". See below for more details."),(0,l.kt)("p",null,"There are some handy shortcuts that you can see in the diagram. ",(0,l.kt)("inlineCode",{parentName:"p"},"age_in_years()")," does some date math for us. ",(0,l.kt)("inlineCode",{parentName:"p"},"address_block()")," displays the address in one format (each item on its own line). As well, we can use the hidden  ",(0,l.kt)("inlineCode",{parentName:"p"},"__str__()")," methods when we refer to an Individual (displays the user's full name) or their address (displays the full address on one line)."),(0,l.kt)("p",null,"Here is a sample interview that assigns a value to all of an Individual's built-in attributes:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"objects:\n  - client: Individual\n---\nmandatory: True\ncomment: |\n  We are using this block to control the order of questions\ncode: |\n  client.name.first\n\n  # We only need to reference one variable on a screen\n  # to tell Docassemble to show that screen\n  client.birthdate \n\n  client.address.address\n  show_results\n---\nquestion: |\n  What is your name?\nfields:\n  - First name: client.name.first\n  - Middle name: client.name.middle\n    required: False # Not everyone has a middle name, so this is marked optional\n  - Last name: client.name.last    \n---\ncomment: |\n  In a real question, you should probably make some of these fields optional, such as phone/email.\nquestion: |\n  Tell us about yourself\nfields:\n  - When were you born?: client.birthdate\n    datatype: date\n  - What is your gender?: client.gender\n  - What is your phone number: client.phone_number\n  - What is your cell phone number?: client.mobile_number\n  - What is your email address?: client.email\n    datatype: email # This uses the email formatting rules to help the user avoid mistakes in typing their address\n---\nquestion: |\n  Where do you live?\nfields:\n  - Street address: client.address.address  \n  - Apartment or Unit: client.address.unit\n    required: False # Another optional field\n  - City: client.address.city\n  - State: client.address.state\n  - Zip: client.address.zip\n---\ncomment: |\n  This is an ending screen. It doesn't have any fields, and \n  we use the event specifier to give it a variable name we can refer to.\nevent: show_results\nquestion: |\n  Results\nsubquestion: |\n  Hello, ${client}. Your gender is ${client.gender}\n\n  Your age is ${client.age_in_years()}\n\n  You live at ${client.address}\n\n  You can be reached at ${client.email}, ${client.phone_number}, or ${client.mobile_number}.\n")),(0,l.kt)("h3",{id:"individualname"},"IndividualName"),(0,l.kt)("p",null,"IndividualName is a pretty simple class. It helps us store the different part of a user's name."),(0,l.kt)("p",null,"Here is a class diagram for the key fields in the IndividualName class:"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBJbmRpdmlkdWFsTmFtZSB7XG4gIGZpcnN0XG4gIG1pZGRsZVxuICBsYXN0XG4gIGZ1bGwoKVxuICBmaXJzdGxhc3QoKVxuICBsYXN0Zmlyc3QoKVxufSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9"},(0,l.kt)("img",{parentName:"a",src:"https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBJbmRpdmlkdWFsTmFtZSB7XG4gIGZpcnN0XG4gIG1pZGRsZVxuICBsYXN0XG4gIGZ1bGwoKVxuICBmaXJzdGxhc3QoKVxuICBsYXN0Zmlyc3QoKVxufSIsIm1lcm1haWQiOnsidGhlbWUiOiJkZWZhdWx0In0sInVwZGF0ZUVkaXRvciI6ZmFsc2V9",alt:null}))),(0,l.kt)("p",null,"When we refer to just an IndividualName, Docassemble runs the ",(0,l.kt)("inlineCode",{parentName:"p"},".full()")," method and returns the full name with a middle initial. The ",(0,l.kt)("inlineCode",{parentName:"p"},".firstlast()")," method leaves out the middle name. The ",(0,l.kt)("inlineCode",{parentName:"p"},"lastfirst()")," method shows the name like this: ",(0,l.kt)("inlineCode",{parentName:"p"},"Last, First"),"."),(0,l.kt)("h3",{id:"address"},"Address"),(0,l.kt)("p",null,"The Address object is very powerful. It doesn't just store the different parts of an address: it can store a latitude and longitude, and it can be ",(0,l.kt)("inlineCode",{parentName:"p"},"geolocated")," using Google as the engine to fill in information the user doesn't know (such as county)."),(0,l.kt)("p",null,"Here's a class diagram for the key fields in the ",(0,l.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/objects.html#Address"},"Address")," class:"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBBZGRyZXNzIHtcbiAgYWRkcmVzc1xuICB1bml0XG4gIGNpdHlcbiAgc3RhdGVcbiAgemlwXG4gIGNvdW50eVxuICBjb3VudHJ5XG4gIGxvY2F0aW9uOiBMYXRpdHVkZUxvbmdpdHVkZVxuICBnZW9sb2NhdGUoKVxuICBub3JtYWxpemUoKVxuICBvbl9vbmVfbGluZSgpXG59IiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0"},(0,l.kt)("img",{parentName:"a",src:"https://mermaid.ink/img/eyJjb2RlIjoiY2xhc3NEaWFncmFtXG5jbGFzcyBBZGRyZXNzIHtcbiAgYWRkcmVzc1xuICB1bml0XG4gIGNpdHlcbiAgc3RhdGVcbiAgemlwXG4gIGNvdW50eVxuICBjb3VudHJ5XG4gIGxvY2F0aW9uOiBMYXRpdHVkZUxvbmdpdHVkZVxuICBnZW9sb2NhdGUoKVxuICBub3JtYWxpemUoKVxuICBvbl9vbmVfbGluZSgpXG59IiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0",alt:null}))),(0,l.kt)("p",null,"If you want to verify the user's address was entered correctly, you have at least two options:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Use the ",(0,l.kt)("inlineCode",{parentName:"li"},"address autocomplete")," feature. This tells Docassemble to use Google to fill-in the address as you type."),(0,l.kt)("li",{parentName:"ol"},"Use the ",(0,l.kt)("inlineCode",{parentName:"li"},".normalize()")," method to correct any mistakes in the address after you collect it from the user. This will overwrite the user's inputs; see the ",(0,l.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/objects.html#Address"},"full documentation")," to learn about alternatives.")),(0,l.kt)("p",null,"Here's a sample interview that uses ",(0,l.kt)("inlineCode",{parentName:"p"},"address autocomplete")," to fill-in the user's address as they type:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"objects:\n  - the_address: Address\n---\nmandatory: True\ncode: |\n  results_screen\n---\nquestion: |\n  Enter an address\nfields:\n  - Address: the_address.address\n    address autocomplete: True # This turns on auto completion\n  - Unit: the_address.unit\n    required: False\n  - City: the_address.city\n  - State: the_address.state\n  - Zip: the_address.zip\n    required: False\n---\nevent: results_screen\nquestion: |\n  Results\nsubquestion: |\n  ${the_address}\n\n  ${map_of(the_address)}\n")),(0,l.kt)("p",null,"In the example above, we use the built-in ",(0,l.kt)("a",{parentName:"p",href:"https://docassemble.org/docs/functions.html#map_of"},(0,l.kt)("inlineCode",{parentName:"a"},"map_of"))," function to display a Google Map of the address. "),(0,l.kt)("p",null,"Suppose you collected the user's address in the interview above. You could ",(0,l.kt)("inlineCode",{parentName:"p"},"normalize")," it (fix it to match what Google thinks is a valid address) in an interview snippet like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"mandatory: True\ncode: |\n  the_address.normalize()\n")),(0,l.kt)("p",null,"One reason to use this would be to add the user's ",(0,l.kt)("inlineCode",{parentName:"p"},"county")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"country")," without making them type those fields in. This could be helpful if you wanted to show the user a court that serves their county, while you know that most users don't know the name of their county."),(0,l.kt)("h2",{id:"further-reading"},"Further reading"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.nonprofittechy.com/2018/09/12/object-oriented-programming-for-document-assembly-developers/"},"https://www.nonprofittechy.com/2018/09/12/object-oriented-programming-for-document-assembly-developers/")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docassemble.org/docs/objects.html"},"https://docassemble.org/docs/objects.html")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://www.programiz.com/python-programming/object-oriented-programming"},"https://www.programiz.com/python-programming/object-oriented-programming")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Object-oriented_programming"},"https://en.wikipedia.org/wiki/Object-oriented_programming"))))}u.isMDXComponent=!0}}]);